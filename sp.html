<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0">
<title>解答画面 - Quiz</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link href="src/css/quiz.css" rel="stylesheet">
<style>
[v-cloak] { display:none }
.answer__btn-group li {
    display: inline-block;
}
.answer__btn-group input[type="radio"] {
    -webkit-appearance: none;
    appearance: none;
}

.answer__btn-group input[type="radio"] + label {
    padding: 12px 24px;
    color: #337ab7;
    background-color: #fff;
    border: 1px solid #ddd;

}
.answer__btn-group input[type="radio"]:checked + label {
    color: #fff;
    background-color: #337ab7;
    border-color: #337ab7;
}

</style>
</head>
<body>

<header class="header">
    <h1>Quiz</h1>
</header>

<main v-cloak>
    <section>
        <h2>Q.{{num}}</h2>
    </section>

    <section>
        <nav>
            <ul class="answer__btn-group">
                <li v-repeat="exA"><input type="radio" id="answer__btn-{{$value + 1}}" name="exA" value="{{$value}}"><label for="answer__btn-{{$value + 1}}" v-on="click: btnAct({{$value + 1}})">{{$value}}</label></li>
                <!-- <li><a href="#" class="answer__btn-{{$value + 1}}" v-on="click: btnAct({{$value + 1}})">{{$value + 1}}</a></li> -->
            </ul>
        </nav>
    </section>
</main>

<footer class="footer">
    <p>©MeHerBu</p>
</footer>

<script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/vue/0.10.5/vue.min.js"></script>
<script src='https://cdn.mlkcca.com/v2.0.0/milkcocoa.js'></script>
<script src="src/js/app.js"></script>

<script>
// --------------------------------------------------------
// View
// --------------------------------------------------------
var vue = new Vue({
    el: 'main',
    data: {
        num: '',
        exA: []
    },

    methods:{
        // JSONを取得
        getJson: function(){
            $.getJSON(jsonPath).done(function(data){
                qaJson = data;
                getObjLength(qaJson);
                vue.getActQuiz(qaJson);
            });
        },

        getActQuiz: function(qaJson){
            var _this = this;

            DS.get(msgID, function(err, data){
                _this.$set('num', data.value.DSactNum);
                _this.$set('exA', _.range(getObjLength(qaJson.q1.answer)));
            });
        },

        // 問題を切り替える処理
        changeQ: function(n, max){
            this.$set('num', n);
            this.$set('exA', _.range(max));
        },

        btnAct: function(){
        }
    }
});


// --------------------------------------------------------
// イベント通知
// --------------------------------------------------------
DS.on('send', function(data){
    vue.changeQ(data.value.DSactNum, data.value.DSmaxNum);
});


// --------------------------------------------------------
// ユーザーアクション
// --------------------------------------------------------
// $('.answer__btn-group').on('click', '.answer__btn', function() {
//     alert(1);
// });


// --------------------------------------------------------
// Load
// --------------------------------------------------------
// 初回描画
vue.getJson();

</script>

</body>
</html>
