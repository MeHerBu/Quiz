<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>問題画面 - Quiz</title>
</head>
<body>

<header>
    <h1>Quiz</h1>
</header>

<main>
    <section>
        <input type="number" v-model="keyword" v-on="change: getQ()" value="1">
        <h2>第{{num}}問</h2>
        <p>{{quiz}}</p>
        <ol>
           <li v-repeat="ex">{{$value}}</li>
        </ol>
    </section>
    <!-- <time>あと8秒</time> -->
    <button id="btn_prev">Prev</button>
    <button id="btn_next">Next</button>
</main>

<footer>©MeHerBu</footer>

<script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
<script src='https://cdn.mlkcca.com/v2.0.0/milkcocoa.js'></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/vue/0.10.5/vue.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>

<script>
var milkcocoa = new MilkCocoa('maxi9ffclh3.mlkcca.com');
var ds = milkcocoa.dataStore('quiz');
var $btn_next = $('#btn_next');
var $btn_prev = $('#btn_prev');


// --------------------------------------------------------
// QA JSON
// --------------------------------------------------------
var qaJson =
{
    "q1": {
        "type" : "image",
        "question" : "HTMLの最新バージョンは？",
        "correct" : "a3",
        "answer" : {
            "a1" : "HTML2",
            "a2" : "HTML4",
            "a3" : "HTML5",
            "a4" : "HTML7"
        }
    },
    "q2": {
        "type" : "text",
        "question" : "CSSの最新バージョンは？",
        "correct" : "a3",
        "answer" : {
            "a1" : "CSS2",
            "a2" : "CSS3",
            "a3" : "CSS5",
            "a4" : "CSS10"
        }
    },
    "q3": {
        "type" : "text",
        "question" : "ECMAScriptの最新バージョンは？",
        "correct" : "a4",
        "answer" : {
            "a1" : "ECMAScript 3",
            "a2" : "ECMAScript 4",
            "a3" : "ECMAScript 5",
            "a4" : "ECMAScript 6"
        }
    }
}


// --------------------------------------------------------
// View
// --------------------------------------------------------
var vue = new Vue({
    el: 'main',
    data: {
        keyword: '',
        num: '',
        quiz: '',
        ex: ''
    },
    methods:{
        getQ: function(){
            var that = this;

            that.num = that.keyword;
            that.quiz = qaJson['q' + that.num].question;
            that.ex = _.values(qaJson['q' + that.num].answer);
        }
    }
});


// --------------------------------------------------------
// ユーザーアクション
// --------------------------------------------------------
$btn_next.on('click', function(){

});


// --------------------------------------------------------
// Ready
// --------------------------------------------------------
console.log(vue.num);

</script>

</body>
</html>